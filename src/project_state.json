{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 15,
  "summary": "Butterfly Connections: an 18+ social community platform created by and for transgender, nonbinary, genderfluid, and questioning people to safely connect, share stories, explore identity via posts/discussions/creative expression, build friendships, and connect with mentors/peers.",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-implement-internet-identity-sign-in-and-require-all-app-features-except-the-landing-age-gate-to-be-accessible-only-to-authenticated-users",
      "title": "Implement Internet Identity sign-in and require all app features (except the landing + age gate) to be accessible only to authenticated users.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-18-eligibility-gate-that-users-must-explicitly-confirm-before-they-can-access-the-authenticated-community-area-store-the-confirmation-per-user-so-they-are-not-repeatedly-prompted-on-subsequent-sessions",
      "title": "Add an 18+ eligibility gate that users must explicitly confirm before they can access the authenticated community area; store the confirmation per user so they are not repeatedly prompted on subsequent sessions.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-create-user-profiles-for-community-members-including-display-name-pronouns-free-text-short-bio-optional-identity-interests-tags-and-an-avatar-image-selector-use-generated-default-avatars-if-the-user-does-not-upload",
      "title": "Create user profiles for community members, including: display name, pronouns (free-text), short bio, optional identity/interests tags, and an avatar image selector (use generated default avatars if the user does not upload).",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-social-posting-share-your-story-with-a-global-feed-create-post-view-feed-view-single-post-and-delete-own-post-posts-should-support-text-content-and-an-optional-image-attachment",
      "title": "Implement social posting (“Share your story”) with a global feed: create post, view feed, view single post, and delete own post; posts should support text content and an optional image attachment.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-discussions-via-comments-on-posts-create-comment-and-view-comment-thread-per-post-allow-deleting-own-comment",
      "title": "Add discussions via comments on posts: create comment and view comment thread per post; allow deleting own comment.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-friendship-connection-features-allow-users-to-send-connection-requests-accept-decline-requests-view-a-list-of-connections-and-remove-a-connection",
      "title": "Implement friendship/connection features: allow users to send connection requests, accept/decline requests, view a list of connections, and remove a connection.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-mentor-peer-support-directory-allow-users-to-optionally-mark-themselves-as-open-to-mentoring-and-or-seeking-mentorship-and-provide-a-browse-filter-page-to-find-people-by-these-flags-and-tags",
      "title": "Implement a mentor/peer support directory: allow users to optionally mark themselves as “Open to mentoring” and/or “Seeking mentorship”, and provide a browse/filter page to find people by these flags and tags.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-add-safety-basics-a-clear-community-guidelines-page-per-post-and-per-comment-reporting-and-a-simple-moderation-view-to-review-reports-and-remove-reported-content",
      "title": "Add safety basics: a clear community guidelines page, per-post and per-comment reporting, and a simple moderation view to review reports and remove reported content.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-a-coherent-visual-theme-for-butterfly-connections-that-feels-like-a-cozy-welcoming-digital-neighborhood-warm-soft-palette-accessible-typography-calm-layout-and-apply-it-consistently-across-landing-auth-age-gate-feed-profiles-and-directory-pages",
      "title": "Define and apply a coherent visual theme for Butterfly Connections that feels like a cozy, welcoming digital neighborhood (warm, soft palette; accessible typography; calm layout), and apply it consistently across landing, auth/age gate, feed, profiles, and directory pages.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-navigation-for-authenticated-users-links-to-feed-directory-mentors-peers-connections-profile-guidelines-and-sign-out",
      "title": "Add basic navigation for authenticated users: links to Feed, Directory (Mentors/Peers), Connections, Profile, Guidelines, and Sign out.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-required-static-image-assets-and-render-them-in-the-ui-stored-under-frontend-public-assets-generated-for-branding-and-a-welcoming-feel",
      "title": "Generate required static image assets and render them in the UI (stored under frontend/public/assets/generated) for branding and a welcoming feel.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-ui-on-the-my-profile-page-to-let-users-upload-and-manage-their-profile-photos-set-replace-avatar-photo-add-additional-photos-preview-photos-and-remove-photos-then-persist-changes-to-the-backend-profile",
      "title": "Add UI on the “My Profile” page to let users upload and manage their profile photos: set/replace avatar photo, add additional photos, preview photos, and remove photos, then persist changes to the backend profile.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-render-user-uploaded-avatar-profile-photos-on-the-view-profile-page-and-any-other-existing-profile-displays-so-that-other-users-see-the-customized-profile-visuals-instead-of-always-seeing-the-default-avatar-image",
      "title": "Render user-uploaded avatar/profile photos on the “View Profile” page (and any other existing profile displays) so that other users see the customized profile visuals instead of always seeing the default avatar image.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-my-profile-page-add-a-new-selection-control-in-the-mentorship-section-labeled-supporter-of-the-community-alongside-open-to-mentoring-others-and-seeking-mentorship-and-ensure-it-is-saved-loaded-with-the-profile",
      "title": "On the “My Profile” page, add a new selection control in the Mentorship section labeled “Supporter of the community”, alongside “Open to mentoring others” and “Seeking mentorship”, and ensure it is saved/loaded with the profile.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-directory-page-add-a-filter-toggle-labeled-supporter-of-the-community-alongside-the-existing-mentorship-filters-and-display-the-supporter-status-on-profile-cards-when-enabled-on-a-profile",
      "title": "On the Directory page, add a filter toggle labeled “Supporter of the community” alongside the existing mentorship filters, and display the supporter status on profile cards when enabled on a profile.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-ui-on-the-community-feed-page-for-a-hello-corner-section-that-lets-users-post-short-chat-messages-with-an-optional-photo-and-shows-the-chat-stream",
      "title": "Add frontend UI on the Community Feed page for a “Hello Corner” section that lets users post short chat messages with an optional photo, and shows the chat stream.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-ui-controls-in-hello-corner-for-like-dislike-reactions-on-each-message-reflecting-current-counts-and-allowing-users-to-toggle-update-their-reaction",
      "title": "Add frontend UI controls in Hello Corner for like/dislike reactions on each message, reflecting current counts and allowing users to toggle/update their reaction.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-hello-corner-data-flow-using-react-query-queries-mutations-and-extend-the-frontend-backend-type-definitions-interfaces-as-needed-so-hello-corner-endpoints-are-type-safe-in-the-frontend",
      "title": "Wire Hello Corner data flow using React Query (queries + mutations) and extend the frontend backend type definitions/interfaces as needed so Hello Corner endpoints are type-safe in the frontend.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-hello-corner-composer-ui-to-let-users-attach-either-a-photo-or-a-short-video-similar-ux-to-photo-attachment-including-client-side-validation-and-upload-progress-and-post-the-attachment-to-the-backend",
      "title": "Update the Hello Corner composer UI to let users attach either a photo or a short video (similar UX to photo attachment), including client-side validation and upload progress, and post the attachment to the backend.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-render-hello-corner-video-attachments-inline-in-the-hello-corner-message-list-so-videos-appear-alongside-text-and-photo-messages-in-the-feed-keeping-the-presentation-fun-and-casual",
      "title": "Render Hello Corner video attachments inline in the Hello Corner message list so videos appear alongside text and photo messages in the feed, keeping the presentation fun and casual.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-backend-type-definitions-interfaces-used-by-the-react-app-so-video-attachments-for-hello-corner-messages-and-community-feed-posts-are-type-safe",
      "title": "Update frontend-backend type definitions/interfaces used by the React app so video attachments for Hello Corner messages and Community Feed posts are type-safe.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-build-a-dedicated-moderation-dashboard-ui-that-is-accessible-to-moderators-and-admins-and-includes-sections-for-1-reviewing-reports-and-taking-action-and-2-user-moderation-actions-including-banning-unbanning-include-a-separate-admin-only-section-for-appointing-removing-moderators",
      "title": "Build a dedicated Moderation Dashboard UI that is accessible to moderators and admins, and includes sections for (1) reviewing reports and taking action and (2) user moderation actions including banning/unbanning; include a separate admin-only section for appointing/removing moderators.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-moderation-dashboard-to-backend-apis-using-react-query-hooks-queries-mutations-for-listing-reports-if-available-removing-content-banning-unbanning-users-and-appointing-removing-moderators-keeping-frontend-backend-types-type-safe",
      "title": "Wire the moderation dashboard to backend APIs using React Query hooks (queries + mutations) for listing reports (if available), removing content, banning/unbanning users, and appointing/removing moderators, keeping frontend-backend types type-safe.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clear-banned-user-ux-so-that-when-a-banned-user-signs-in-they-are-shown-an-explicit-english-message-that-their-account-is-banned-and-they-cannot-access-community-features",
      "title": "Add a clear banned-user UX so that when a banned user signs in they are shown an explicit English message that their account is banned and they cannot access community features.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-placeholder-my-connections-page-with-a-forum-board-experience-that-supports-browsing-thread-style-posts-created-within-the-connections-area",
      "title": "Replace the current placeholder “My Connections” page with a forum-board experience that supports browsing thread-style posts created within the Connections area.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-for-connections-forum-threads-and-replies-and-wire-them-into-the-connections-page-so-thread-creation-and-replying-update-the-ui-without-a-full-page-reload",
      "title": "Add React Query hooks for Connections forum threads and replies, and wire them into the Connections page so thread creation and replying update the UI without a full page reload.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-thread-detail-view-accessible-from-the-connections-thread-list-showing-the-original-thread-post-and-a-reply-thread-beneath-it-with-a-reply-composer",
      "title": "Add a thread detail view accessible from the Connections thread list, showing the original thread post and a reply thread beneath it, with a reply composer.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement 18+ only access (age gate / eligibility requirement)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "User profiles and account system for community members",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Social posting and story sharing features (feed/posts)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Discussions and community interaction features (comments/threads)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Friendship/connection features to meet and connect with others",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Mentor/peer support connections (finding mentors and supportive peers)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Safety and moderation controls to keep the space affirming and non-abusive",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Allow users to upload/add photos and further customize their profile (beyond basic fields/avatar defaults)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Extend community profiles to support user-uploaded profile photos (in addition to the existing avatar field), including storing and retrieving the uploaded image blobs as part of each user’s profile.",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Preserve existing production profile data when introducing new profile photo fields by implementing a conditional canister state migration (only if there is existing stable state) that upgrades stored profiles without data loss.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add a new selectable profile/directory flag “Supporter of the community” alongside “Seeking mentorship” and “Open to mentoring”.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add a new boolean field to community profiles named “supporterOfCommunity” and persist it alongside the existing mentorship flags so that users can save and retrieve this selection with their profile.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Extend the directory browsing API so the directory can be filtered by “Supporter of the community” in addition to “Open to mentoring” and “Seeking mentorship”.",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add a “Hello Corner” area in the Community Feed for casual chatting, with reactions (like/dislike) and support for sharing photos",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Implement backend support for a new “Hello Corner” chat stream, including creating messages with text and optional photo attachment, and listing messages in reverse chronological order with pagination.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Implement backend support for per-message reactions in Hello Corner, allowing authenticated users to like or dislike a message, update their reaction, and remove their reaction, and exposing aggregated counts per message.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add short video upload support to Community Feed (posts) and Hello Corner so users can post videos like photos and have them rendered inline in the feed/chat stream.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Extend Hello Corner messages to support an optional short video attachment (in addition to the existing optional photo attachment), and expose it through the backend API so the frontend can create and list messages with videos.",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add short video upload support to Community Feed “regular posts” so users can attach an optional video to a post (like they attach photos today), and ensure videos render inline wherever posts appear (feed list and single-post views if present).",
      "reqIds": [
        "REQ-28"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "If the canister has existing stable state, implement a conditional schema migration to add the new optional video field to stored Hello Corner messages without data loss.",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add user banning controls for moderators/admins (ban/unban users to prevent access/participation).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Add moderator role management: allow the owner/admin to appoint and remove other moderators with appropriate permissions.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Build a dedicated moderation dashboard for reviewing reports and performing moderation actions (including bans and role management).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Implement user banning in the backend so admins/moderators can ban and unban specific principals, and banned users are prevented from accessing and participating in community features.",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Add moderator role management in the backend so the owner/admin can appoint and remove additional moderators, and the app can distinguish at least: regular user, moderator, and admin/owner.",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Add a forum-style threaded board experience (Reddit-like) for posting and browsing threads.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Convert the web app into an installable phone-app experience via Progressive Web App (PWA) support (Add to Home Screen, app icon, standalone mode).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Update “My Connections” to function like a forum board: allow thread-style posts and threaded replies within the Connections area.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Implement backend storage and APIs for a Connections forum board with threads and replies, where only authenticated, eligible, non-banned users can create content and read content.",
      "reqIds": [
        "REQ-37"
      ],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Limit visibility of Connections forum board content to the user’s connection network: only the thread author and the author’s accepted connections can view and reply to that author’s threads.",
      "reqIds": [
        "REQ-38"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Butterfly Connections",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}